<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html;charset=utf-8">
  <title>pyBBN v0.1.0: animex.py</title>
  <link rel="stylesheet" href="./pyccoon.css">
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}
  });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<div id='container'>
  <a id="top"></a>
  <div id="background"></div>
  <div id="footer">
    <a class="btn" id="project-name" href="./index.html">pyBBN v0.1.0</a>
    <a class="btn" class="source source-1" href="#top">Back to top</a>
    <div class="generation-time">
        Generated at
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">
            <img id="pyccoon-icon" src="./pyccoon_icon.svg" alt="Pyccoon: side-to-side documentation generator" /></a>
        <code>2014-09-04 02:04:02.828713</code>/
        by a diligent
        <a target="_blank" href="http://ckald.github.io/pyccoon/" title="Pyccoon: side-to-side documentation generator">pyccoon</a>
    </div>
  </div>
  <div class='section'>
    <div class='docs'>
      <h1 id="breadcrumbs">/ <a href="animex.py.html/../index.html">.</a> / <a href="animex.py.html">animex.py</a> </h1>
      <ul id="children"></ul>
    </div>
  </div>
  <div class='clearall'>
  <div class='section'>
    <a id="section-0" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-0'>#</a>
          </div>
          
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="kn">import</span> <span class="nn">Gnuplot</span><span class="o">,</span> <span class="nn">Gnuplot.funcutils</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-1" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-1'>#</a>
          </div>
          <p>Demonstrate the Gnuplot package.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">def</span> <span class="nf">demo</span><span class="p">():</span>

    <span class="kn">from</span> <span class="nn">Numeric</span> <span class="kn">import</span> <span class="o">*</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-2" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-2'>#</a>
          </div>
          <p>A straightforward use of gnuplot.  The `debug=1' switch is used
in these examples so that the commands that are sent to gnuplot
are also output on stderr.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">g</span> <span class="o">=</span> <span class="n">Gnuplot</span><span class="o">.</span><span class="n">Gnuplot</span><span class="p">(</span><span class="n">debug</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;A simple example&#39;</span><span class="p">)</span> <span class="c"># (optional)</span>
    <span class="n">g</span><span class="p">(</span><span class="s">&#39;set data style linespoints&#39;</span><span class="p">)</span> <span class="c"># give gnuplot an arbitrary command</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-3" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-3'>#</a>
          </div>
          <p>Plot a list of (x, y) pairs (tuples or a Numeric array would
also be OK):</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">g</span><span class="o">.</span><span class="n">plot</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mf">5.8</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mf">3.3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mf">4.2</span><span class="p">]])</span>
    <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Please press return to continue...</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

    <span class="n">g</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-4" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-4'>#</a>
          </div>
          <p>Plot one dataset from an array and one via a gnuplot function;
also demonstrate the use of item-specific options:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">x</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">typecode</span><span class="o">=</span><span class="n">Float</span><span class="p">)</span>
    <span class="n">y1</span> <span class="o">=</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-5" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-5'>#</a>
          </div>
          <p>Notice how this plotitem is created here but used later?  This
is convenient if the same dataset has to be plotted multiple
times.  It is also more efficient because the data need only be
written to a temporary file once.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">d</span> <span class="o">=</span> <span class="n">Gnuplot</span><span class="o">.</span><span class="n">Data</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y1</span><span class="p">,</span>
                     <span class="n">title</span><span class="o">=</span><span class="s">&#39;calculated by python&#39;</span><span class="p">,</span>
                     <span class="k">with</span><span class="o">=</span><span class="s">&#39;points 3 3&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;Data can be computed by python or gnuplot&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;x squared&#39;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-6" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-6'>#</a>
          </div>
          <p>Plot a function alongside the Data PlotItem defined above:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">g</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">Gnuplot</span><span class="o">.</span><span class="n">Func</span><span class="p">(</span><span class="s">&#39;x**2&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s">&#39;calculated by gnuplot&#39;</span><span class="p">),</span> <span class="n">d</span><span class="p">)</span>
    <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Please press return to continue...</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-7" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-7'>#</a>
          </div>
          <p>Save what we just plotted as a color postscript file.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-8" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-8'>#</a>
          </div>
          <p>With the enhanced postscript option, it is possible to show <code>x
squared' with a superscript (plus much, much more; see</code>help set
term postscript' in the gnuplot docs).  If your gnuplot doesn't
support enhanced mode, set `enhanced=0' below.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">g</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;x^2&#39;</span><span class="p">)</span> <span class="c"># take advantage of enhanced postscript mode</span>
    <span class="n">g</span><span class="o">.</span><span class="n">hardcopy</span><span class="p">(</span><span class="s">&#39;gp_test.ps&#39;</span><span class="p">,</span> <span class="n">enhanced</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="k">print</span> <span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">******** Saved plot to postscript file &quot;gp_test.ps&quot; ********</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
    <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Please press return to continue...</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>

    <span class="n">g</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-9" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-9'>#</a>
          </div>
          <p>Demonstrate a 3-d plot:
set up x and y values at which the function will be tabulated:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">x</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">35</span><span class="p">)</span><span class="o">/</span><span class="mf">2.0</span>
    <span class="n">y</span> <span class="o">=</span> <span class="n">arange</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="o">/</span><span class="mf">10.0</span> <span class="o">-</span> <span class="mf">1.5</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-10" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-10'>#</a>
          </div>
          <p>Make a 2-d array containing a function of x and y.  First create
xm and ym which contain the x and y values in a matrix form that
can be `broadcast' into a matrix of the appropriate shape:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">xm</span> <span class="o">=</span> <span class="n">x</span><span class="p">[:,</span><span class="n">NewAxis</span><span class="p">]</span>
    <span class="n">ym</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="n">NewAxis</span><span class="p">,:]</span>
    <span class="n">m</span> <span class="o">=</span> <span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">xm</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.1</span><span class="o">*</span><span class="n">xm</span><span class="p">)</span> <span class="o">-</span> <span class="n">ym</span><span class="o">**</span><span class="mi">2</span>
    <span class="n">g</span><span class="p">(</span><span class="s">&#39;set parametric&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="p">(</span><span class="s">&#39;set data style lines&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="p">(</span><span class="s">&#39;set hidden&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="p">(</span><span class="s">&#39;set contour base&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s">&#39;An example of a surface plot&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
    <span class="n">g</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-11" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-11'>#</a>
          </div>
          <p>The <code>binary=1' option would cause communication with gnuplot to
be in binary format, which is considerably faster and uses less
disk space.  (This only works with the splot command due to
limitations of gnuplot.)</code>binary=1' is the default, but here we
disable binary because older versions of gnuplot don't allow
binary data.  Change this to `binary=1' (or omit the binary
option) to get the advantage of binary format.</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="n">g</span><span class="o">.</span><span class="n">splot</span><span class="p">(</span><span class="n">Gnuplot</span><span class="o">.</span><span class="n">GridData</span><span class="p">(</span><span class="n">m</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
    <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Please press return to continue...</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-12" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-12'>#</a>
          </div>
          <p>plot another function, but letting GridFunc tabulate its values
automatically.  f could also be a lambda or a global function:</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre>    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
        <span class="k">return</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="mf">0.01</span> <span class="o">*</span> <span class="n">x</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mf">0.5</span> <span class="o">*</span> <span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>

    <span class="n">g</span><span class="o">.</span><span class="n">splot</span><span class="p">(</span><span class="n">Gnuplot</span><span class="o">.</span><span class="n">funcutils</span><span class="o">.</span><span class="n">compute_GridData</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">binary</span><span class="o">=</span><span class="mi">0</span><span class="p">))</span>
    <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;Please press return to continue...</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-13" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-13'>#</a>
          </div>
          <p>Explicit delete shouldn't be necessary, but if you are having
trouble with temporary files being left behind, try uncommenting
the following:
del g, d</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre></pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
  <div class='section'>
    <a id="section-14" class="section-anchor"></a>
    <section>
        <div class='docs'>
          <div class='octowrap'>
            <a class='octothorpe' href='#section-14'>#</a>
          </div>
          <p>when executed, just run demo():</p>
        </div>
        <div class='code'>
          <div class="highlight"><pre><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">demo</span><span class="p">()</span>

</pre></div>
        </div>
        <div class='clearall'></div>
    </section>
  </div>
</div>
</body>
