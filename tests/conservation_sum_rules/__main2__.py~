import os
import numpy as np
import sys
import environment
from common import UNITS, CONST
from matplotlib import pyplot as plt
from scipy.integrate import simps, cumtrapz


folder = os.path.join(os.path.split(__file__)[0], 'output')

names = [("Electron_neutrino.collision_integrals.txt", []), ("Muon_neutrino.collision_integrals.txt", []), ("Tau_neutrino.collision_integrals.txt", [])]


for name, integral in names:

    data = np.loadtxt(folder + "/" + name, unpack=False)
    momenta = data[0]
    for integrand in data[15:]:
        integral.append(simps(momenta**2 * integrand, momenta))

a, integrals_e = names[0]
b, integrals_mu = names[1]
c, integrals_tau = names[2]






plt.plot(range(len(integrals_e)) , np.abs(integrals_e), color="red")
plt.plot(range(len(integrals_mu)) , np.abs(integrals_mu), color="blue")
plt.plot(range(len(integrals_tau)) , np.abs(integrals_tau), color="green")

plt.semilogy()
plt.semilogx()
plt.show()
